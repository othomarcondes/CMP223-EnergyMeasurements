#+title: Phase 2 LU Factorization
* Phase 2 LU Factorization
Preliminary experiments with the LU Factorization on the Tupi partition.
Changing:
- Matrix size
- Number of Nodes
- GPU
Fixed:
- Scheduler
- Block size
- PxQ factor

#+begin_src R
options(crayon.enabled=FALSE)
library(DoE.base)
library(tidyverse)

fator_size = c(16000, 32000, 60000, 96000)
fator_blocksize = c(100, 300, 800)
fator_scheduler = c("dmda", "lws", "dmdas", "random")
fator_pq = c("1x5", "5x1")
fator_gpu = c(1, 0)
fator_nodes = 1:5

job_name = "lu_factor_poti"

fac.design(nfactors=6,
           replications=3,
           repeat.only= FALSE ,
           randomize=TRUE,
           seed=0,
           nlevels=c(length(fator_size),
                     length(fator_blocksize),
                     length(fator_scheduler),
                     length(fator_pq),
                     length(fator_gpu),
                     length(fator_nodes)),
           factor.names=list(
             size = fator_size,
             block_size = fator_blocksize,
             scheduler = fator_scheduler,
             pq = fator_pq,
             gpu = fator_gpu,
             nodes = fator_nodes
           )) |>
  as_tibble() |>
  filter(scheduler == "lws") |>
  filter(size == 60000) |>
  filter(pq == "1x5") |>
  filter(block_size == 100) |>
  filter(gpu == 0) |>
    mutate(exp = job_name) |>
    mutate(Order = paste0(exp, "_", size, "_", nodes,"_GPU", gpu, "_", 1:n())) |>
  select(-Blocks) |>
  write_csv(paste0(job_name, "_experimental_project.csv"), progress=FALSE) |>
  print()
#+end_src

#+RESULTS:
| 60000 | 100 | lws | 1x5 | 0 | 1 | lu_factor_poti | lu_factor_poti_60000_1_GPU0_1  |
| 60000 | 100 | lws | 1x5 | 0 | 3 | lu_factor_poti | lu_factor_poti_60000_3_GPU0_2  |
| 60000 | 100 | lws | 1x5 | 0 | 2 | lu_factor_poti | lu_factor_poti_60000_2_GPU0_3  |
| 60000 | 100 | lws | 1x5 | 0 | 4 | lu_factor_poti | lu_factor_poti_60000_4_GPU0_4  |
| 60000 | 100 | lws | 1x5 | 0 | 5 | lu_factor_poti | lu_factor_poti_60000_5_GPU0_5  |
| 60000 | 100 | lws | 1x5 | 0 | 4 | lu_factor_poti | lu_factor_poti_60000_4_GPU0_6  |
| 60000 | 100 | lws | 1x5 | 0 | 5 | lu_factor_poti | lu_factor_poti_60000_5_GPU0_7  |
| 60000 | 100 | lws | 1x5 | 0 | 2 | lu_factor_poti | lu_factor_poti_60000_2_GPU0_8  |
| 60000 | 100 | lws | 1x5 | 0 | 3 | lu_factor_poti | lu_factor_poti_60000_3_GPU0_9  |
| 60000 | 100 | lws | 1x5 | 0 | 1 | lu_factor_poti | lu_factor_poti_60000_1_GPU0_10 |
| 60000 | 100 | lws | 1x5 | 0 | 4 | lu_factor_poti | lu_factor_poti_60000_4_GPU0_11 |
| 60000 | 100 | lws | 1x5 | 0 | 2 | lu_factor_poti | lu_factor_poti_60000_2_GPU0_12 |
| 60000 | 100 | lws | 1x5 | 0 | 3 | lu_factor_poti | lu_factor_poti_60000_3_GPU0_13 |
| 60000 | 100 | lws | 1x5 | 0 | 5 | lu_factor_poti | lu_factor_poti_60000_5_GPU0_14 |
| 60000 | 100 | lws | 1x5 | 0 | 1 | lu_factor_poti | lu_factor_poti_60000_1_GPU0_15 |
